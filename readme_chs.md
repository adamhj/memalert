[Read this in English](./readme.md)

---
# MemAlert

一个轻量级的、基于系统托盘的 Windows 内存监控工具，能在内存占用过高时向您发出警报。

## 功能简介

MemAlert 会在后台静默运行，监控您系统的**内存提交占用率**（Commit Charge，即系统已承诺分配的虚拟内存总量）。当该占用率超过用户设定的阈值时，它会发送一个 Toast 通知来提醒您。

这对于防止因应用程序过度分配内存而导致的系统变慢或崩溃特别有用。

## 主要特性

- **系统托盘图标**: 程序常驻系统托盘，以实现无干扰的后台操作。
- **内存监控**: 定期检查系统的内存提交占用率。
- **阈值警报**: 当占用率超过配置的百分比时，显示 Windows Toast 通知。
- **图形化设置界面**: 一个简洁的设置对话框，允许您配置：
  - **警告阈值 (%)**: 触发警报的内存占用百分比。
  - **检查频率 (秒)**: 检查内存占用的时间间隔。
  - **开机自启**: 登录 Windows 时自动启动 MemAlert。
- **单例运行**: 确保同一时间只有一个程序实例在运行。
- **绿色便携**: 配置文件存储在 `%APPDATA%\MemAlert` 目录下的一个 `.ini` 文件中，不会修改您的注册表。

## 从源码编译

### 环境要求

- 适用于 Windows 的 C++ 开发环境，例如 Visual Studio。
- `nmake` 构建工具（可在 Visual Studio 的开发者命令提示符中使用）。

### 步骤

1.  打开一个 Visual Studio 的开发者命令提示符 (Developer Command Prompt)。
2.  切换到本项目的根目录。
3.  运行编译命令：
    ```shell
    nmake
    ```
4.  编译好的可执行文件 (`memalert.exe`) 将会生成在 `bin/` 目录下。编译过程中产生的中间文件存储在 `build/` 目录。

## 如何使用

1.  运行 `bin/memalert.exe`。
2.  一个图标会出现在您的系统托盘中。
3.  **右键点击**托盘图标，会弹出一个包含“设置”和“退出”选项的菜单。
4.  **双击**托盘图标，可以直接打开设置对话框。
5.  在设置窗口中，配置您期望的警告阈值和检查频率。

## 项目结构

```
.
├── bin/              # 存放最终编译好的可执行文件
├── build/            # 存放编译过程中产生的中间对象文件
├── doc/              # 项目设计文档
├── src/              # 所有的源代码、头文件和资源文件
├── .gitignore
├── handover_notes.md
├── Makefile          # 用于 NMAKE 的 Makefile 文件
└── readme.md